# Requirements Archive: v1.0 Multilingual Support (i18n)

**Archived:** 2026-01-26
**Status:** SHIPPED

This is the archived requirements specification for v1.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## Core Value

A French-speaking user can interact with CAAL entirely in French — from settings to voice conversations — with no English friction.

## v1 Requirements

All 19 requirements shipped.

### Infrastructure

- [x] **INFRA-01**: Global `language` setting in settings.json with ISO 639-1 code (en, fr)
- [x] **INFRA-02**: Language setting propagates to all components (STT, TTS, prompts, UI)
- [x] **INFRA-03**: Backward compatibility with existing English-only installations

### Frontend (Next.js)

- [x] **FRONT-01**: next-intl infrastructure with App Router integration
- [x] **FRONT-02**: EN message file as reference (messages/en.json)
- [x] **FRONT-03**: FR message file complete (messages/fr.json)
- [x] **FRONT-04**: Settings panel fully localized
- [x] **FRONT-05**: Language selector dropdown in settings
- [x] **FRONT-06**: Static rendering preserved (without i18n routing pattern)

### Mobile (Flutter)

- [x] **MOBILE-01**: Flutter intl infrastructure with flutter_localizations
- [x] **MOBILE-02**: ARB EN file (lib/l10n/app_en.arb)
- [x] **MOBILE-03**: ARB FR file (lib/l10n/app_fr.arb)
- [x] **MOBILE-04**: All screens localized (settings, main, connection)
- [x] **MOBILE-05**: Language selector in mobile settings

### Voice Pipeline (Agent)

- [x] **VOICE-01**: Prompt files per language (prompt/en/default.md, prompt/fr/default.md)
- [x] **VOICE-02**: STT receives language parameter (Whisper/Groq)
- [x] **VOICE-03**: TTS voice mapping per language (Piper siwis-medium for FR)
- [x] **VOICE-04**: Agent reformulates tool responses in configured language
- [x] **VOICE-05**: Wake greetings localized per language

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| INFRA-01 | Phase 1 | Complete |
| INFRA-02 | Phase 1 | Complete |
| INFRA-03 | Phase 1 | Complete |
| FRONT-01 | Phase 2 | Complete |
| FRONT-02 | Phase 2 | Complete |
| FRONT-03 | Phase 2 | Complete |
| FRONT-04 | Phase 2 | Complete |
| FRONT-05 | Phase 2 | Complete |
| FRONT-06 | Phase 2 | Complete |
| MOBILE-01 | Phase 3 | Complete |
| MOBILE-02 | Phase 3 | Complete |
| MOBILE-03 | Phase 3 | Complete |
| MOBILE-04 | Phase 3 | Complete |
| MOBILE-05 | Phase 3 | Complete |
| VOICE-01 | Phase 4 | Complete |
| VOICE-02 | Phase 4 | Complete |
| VOICE-03 | Phase 4 | Complete |
| VOICE-04 | Phase 4 | Complete |
| VOICE-05 | Phase 4 | Complete |

## Out of Scope

| Feature | Reason |
|---------|--------|
| Auto-detection from browser/system | Explicit setting preferred for voice assistant consistency |
| Real-time language switching mid-conversation | Requires session restart; adds complexity without value |
| Translation of n8n workflow names | User-defined identifiers; translation would break matching |
| Translation of Home Assistant entities | User-defined names; kept as-is |
| Per-component language settings | Single global setting is simpler UX |
| RTL layout support | Not needed for EN/FR; defer until Arabic/Hebrew requested |
| Code-switching support | Complex, limited STT support; defer to future |

---

## Milestone Summary

**Shipped:** 19 of 19 v1 requirements
**Adjusted:** None — all requirements shipped as originally specified
**Dropped:** None

---
*Archived: 2026-01-26 as part of v1.0 milestone completion*
